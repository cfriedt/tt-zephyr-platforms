#  Copyright (c) 2025 Tenstorrent AI ULC
#  SPDX-License-Identifier: Apache-2.0

config TT_BH_PVT_VMON
    bool "Support for Tenstorrent Blackhole PVT voltage monitors"
    default y if DT_HAS_TENSTORRENT_BH_PVT_VMON_ENABLED
    help
      This option enables support for Tenstorrent Blackhole PVT voltage monitors.

if TT_BH_PVT_VMON

choice
        prompt "Trigger mode"
        default TT_BH_PVT_VMON_TRIGGER_GLOBAL_THREAD
        help
          Specify the type of triggering to be used by the driver.

config TT_BH_PVT_VMON_TRIGGER_NONE
        bool "No trigger"

config TT_BH_PVT_VMON_TRIGGER_GLOBAL_THREAD
        bool "Use global thread"
        select TT_BH_PVT_VMON_TRIGGER

config TT_BH_PVT_VMON_TRIGGER_OWN_THREAD
        bool "Use own thread"
        select TT_BH_PVT_VMON_TRIGGER

endchoice

config TT_BH_PVT_VMON_TRIGGER
        bool

config TT_BH_PVT_VMON_THREAD_PRIORITY
        int "Thread priority"
        depends on TT_BH_PVT_VMON_TRIGGER_OWN_THREAD
        default 10
        help
          Priority of thread used by the driver to handle interrupts.

config TT_BH_PVT_VMON_THREAD_STACK_SIZE
        int "Thread stack size"
        depends on TT_BH_PVT_VMON_TRIGGER_OWN_THREAD
        default 1024
        help
          Stack size of thread used by the driver to handle interrupts.

endif
